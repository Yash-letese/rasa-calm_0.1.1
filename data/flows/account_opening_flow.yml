flow:
  add_bank_account_opening:
    description: bank account opening for limited company
    name: add a bank account
    steps:
      - collect: "add_company_name"
        description: "company name"
      - collect: "add_date_of_opening "
        description: "a branch name of bank"
      - collect: "add_bank_confirmation"
        ask_before_filling: true
        next:
          - if: "slots.add_bank_confirmation is not true"
            then:
              - action: utter_add_bank_cancelled
                next: END
          - else: add_bank_account
      - id: add_bank_account
        action: add_bank_account
        next:
          - if: "slots.return_value = 'success'"
            then:
              - action: utter_bank_account_added
                next: END
          - if: "slots.return_value = 'already_exists'"
            then:
              - action: utter_bank_account_already_exists
                next: END
          - else:
              - action: utter_add_bank_error
                next: END